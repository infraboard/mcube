// doc.go
package aesgcm

/*
AES-GCM 加密库文档

概述

AES-GCM (Advanced Encryption Standard - Galois/Counter Mode) 是一种认证加密算法，
结合了AES块密码的CTR模式加密和GMAC认证功能。它同时提供数据的机密性、完整性和认证性。

主要特性

1. 认证加密 - 同时提供加密和完整性验证
2. 高性能 - 支持并行处理，适合高速网络应用
3. 标准化 - NIST推荐的标准算法
4. 广泛支持 - 被TLS 1.2+、IPsec等协议采用

解决的问题

- 数据机密性: 防止未授权方读取敏感数据
- 数据完整性: 检测数据在传输或存储过程中是否被篡改
- 数据认证: 验证数据确实来自预期的发送方
- 重放攻击防护: 通过唯一的nonce防止重放攻击

与其他对称加密模式的比较

+------------------+----------+----------+----------+----------+----------+
|      模式        |  加密    |  认证    |  填充    |  并行化  |  IV要求  |
+------------------+----------+----------+----------+----------+----------+
| AES-GCM          |    ✓     |    ✓     |    ✗     |    ✓     |  唯一    |
| AES-CBC          |    ✓     |    ✗     |    ✓     |    ✗     |  随机    |
| AES-CTR          |    ✓     |    ✗     |    ✗     |    ✓     |  唯一    |
| AES-CCM          |    ✓     |    ✓     |    ✗     |    ✗     |  唯一    |
| AES-CFB          |    ✓     |    ✗     |    ✗     |    ✗     |  随机    |
| AES-OFB          |    ✓     |    ✗     |    ✗     |    ✗     |  随机    |
+------------------+----------+----------+----------+----------+----------+

详细比较说明

AES-GCM vs AES-CBC

优势:
1. 内置认证: GCM提供完整性验证，CBC需要单独实现HMAC
2. 无填充: GCM使用CTR模式，无需填充；CBC需要PKCS#7填充
3. 并行加密: GCM支持并行处理，性能更好；CBC只能串行处理
4. 更安全: GCM专门设计抵抗填充预言攻击

劣势:
1. IV要求: GCM要求IV绝对唯一，CBC要求IV随机但不一定唯一
2. 实现复杂度: GCM数学上更复杂

AES-GCM vs AES-CTR

优势:
1. 完整性保护: GCM提供认证标签，CTR不提供完整性验证
2. 一体化: GCM在一个操作中完成加密和认证

劣势:
1. 计算开销: GCM有额外的认证计算

AES-GCM vs AES-CCM

优势:
1. 性能: GCM支持硬件加速，性能通常优于CCM
2. 并行化: GCM支持并行加密，CCM必须串行处理

使用场景

推荐使用AES-GCM的场景:
- 网络通信加密 (TLS、VPN、SSH)
- 数据库字段加密
- 文件系统加密
- API数据传输
- 移动应用数据保护

不推荐使用AES-GCM的场景:
- 需要确定性加密的场景 (使用AES-SIV)
- 资源极度受限的嵌入式设备 (考虑AES-CCM)

安全注意事项

1. 密钥安全: 密钥必须安全存储，建议使用密钥管理系统
2. Nonce唯一性: 每个加密操作必须使用唯一的nonce，否则会严重破坏安全性
3. 认证标签: 始终验证认证标签，不要跳过完整性检查
4. 密钥轮换: 定期轮换加密密钥

性能考虑

- AES-NI硬件加速可以显著提高GCM性能
- 对于短消息，认证开销相对较大
- 长消息可以从并行处理中获益

示例代码

参见 example_test.go 文件中的完整使用示例。

参考标准

- NIST SP 800-38D: GCM和GMAC规范
- RFC 5288: AES-GCM在TLS中的使用
- RFC 4106: IPsec中使用AES-GCM
*/
